// Including necessary libraries
#include <webots/robot.h>
#include <webots/motor.h>
#include <webots/distance_sensor.h>
#include <webots/gps.h>
#include <webots/light_sensor.h>
#include <stdio.h>
#include <stdbool.h>
#include <math.h>

// Constants definition
#define TIME_STEP 64                // Time step for simulation
#define MAX_SPEED 6.28              // Maximum motor speed
#define NUM_SENSORS 8               // Number of proximity and light sensors
#define WALL_THRESHOLD 80.0         // Threshold to detect walls
#define DEAD_END_THRESHOLD 50.0     // Threshold for narrow spaces
#define DEAD_END_PROXIMITY 0.1      // Distance to detect duplicate dead ends
#define MAX_POSITIONS 5000          // Maximum number of recorded positions
#define LIGHT_THRESHOLD 50.0        // Threshold for high light intensity

#define SMOOTHING_FACTOR 0.07       // Factor for smoothing motor speed transitions

// Structure to store position and light intensity
typedef struct {
  double x, y, z;                  // GPS coordinates
  double light_intensity;          // Measured light intensity at position
} PositionLightIntensity;

PositionLightIntensity recorded_positions[MAX_POSITIONS];
int recorded_position_count = 0;    // Counter for recorded positions
